import pandas as pd
import io
import matplotlib.pyplot as plt

# Data for Facebook reach
facebook_data = {
    "China Trade Week": """
Date,Reach
2024-04-19,54
2024-04-20,19
2024-04-21,9
2024-04-22,90
2024-04-23,113
2024-04-24,73
2024-04-25,300
2024-04-26,118
2024-04-27,56
2024-04-28,30
2024-04-29,153
2024-04-30,39
2024-05-01,178
2024-05-02,79
2024-05-03,146
2024-05-04,63
2024-05-05,31
2024-05-06,31
2024-05-07,111
2024-05-08,76
2024-05-09,39
2024-05-10,101
2024-05-11,74
2024-05-12,26
2024-05-13,102
2024-05-14,59
2024-05-15,78
2024-05-16,99
""",
    "Megawatt Africa": """
Date,Reach
2024-04-19,6
2024-04-20,5
2024-04-21,0
2024-04-22,3
2024-04-23,16
2024-04-24,8
2024-04-25,5
2024-04-26,8
2024-04-27,3
2024-04-28,0
2024-04-29,7
2024-04-30,14
2024-05-01,7
2024-05-02,5
2024-05-03,4
2024-05-04,2
2024-05-05,4
2024-05-06,4
2024-05-07,3
2024-05-08,7
2024-05-09,11
2024-05-10,3
2024-05-11,2
2024-05-12,1
2024-05-13,3
2024-05-14,7
2024-05-15,8
2024-05-16,2
""",
    "Africa Build Show": """
Date,Reach
2024-04-19,164
2024-04-20,31
2024-04-21,28
2024-04-22,130
2024-04-23,46
2024-04-24,18
2024-04-25,13
2024-04-26,7
2024-04-27,7
2024-04-28,3
2024-04-29,191
2024-04-30,167
2024-05-01,119
2024-05-02,164
2024-05-03,70
2024-05-04,41
2024-05-05,22
2024-05-06,78
2024-05-07,34
2024-05-08,15
2024-05-09,44
2024-05-10,54
2024-05-11,28
2024-05-12,12
2024-05-13,34
2024-05-14,13
2024-05-15,24
2024-05-16,82
""",
    "Africa Food Show": """
Date,Reach
2024-04-19,37
2024-04-20,21
2024-04-21,8
2024-04-22,8
2024-04-23,4
2024-04-24,2
2024-04-25,1
2024-04-26,2
2024-04-27,1
2024-04-28,0
2024-04-29,3
2024-04-30,6
2024-05-01,1
2024-05-02,46
2024-05-03,46
2024-05-04,28
2024-05-05,8
2024-05-06,15
2024-05-07,18
2024-05-08,146
2024-05-09,37
2024-05-10,21
2024-05-11,16
2024-05-12,10
2024-05-13,68
2024-05-14,85
2024-05-15,12
2024-05-16,62
""",
}

# Data for Instagram reach
instagram_data = {
    "China Trade Week": """
Date,Reach
2024-04-19,12
2024-04-20,6
2024-04-21,3
2024-04-22,9
2024-04-23,9
2024-04-24,7
2024-04-25,2
2024-04-26,3
2024-04-27,0
2024-04-28,2
2024-04-29,8
2024-04-30,4
2024-05-01,3
2024-05-02,3
2024-05-03,3
2024-05-04,5
2024-05-05,1
2024-05-06,7
2024-05-07,11
2024-05-08,10
2024-05-09,9
2024-05-10,2
2024-05-11,1
2024-05-12,6
2024-05-13,68
2024-05-14,86
2024-05-15,11
2024-05-16,43
""",
    "Megawatt Africa": """
Date,Reach
2024-04-19,12
2024-04-20,3
2024-04-21,1
2024-04-22,23
2024-04-23,20
2024-04-24,13
2024-04-25,8
2024-04-26,13
2024-04-27,1
2024-04-28,1
2024-04-29,12
2024-04-30,4
2024-05-01,5
2024-05-02,3
2024-05-03,5
2024-05-04,3
2024-05-05,3
2024-05-06,5
2024-05-07,4
2024-05-08,10
2024-05-09,5
2024-05-10,4
2024-05-11,2
2024-05-12,2
2024-05-13,3
2024-05-14,8
2024-05-15,4
2024-05-16,3
""",
    "Africa Build Show": """
Date,Reach
2024-04-19,9
2024-04-20,5
2024-04-21,1
2024-04-22,0
2024-04-23,23
2024-04-24,10
2024-04-25,8
2024-04-26,1
2024-04-27,2
2024-04-28,0
2024-04-29,7
2024-04-30,13
2024-05-01,8
2024-05-02,8
2024-05-03,6
2024-05-04,2
2024-05-05,4
2024-05-06,7
2024-05-07,8
2024-05-08,11
2024-05-09,8
2024-05-10,7
2024-05-11,3
2024-05-12,2
2024-05-13,8
2024-05-14,7
2024-05-15,7
2024-05-16,7
""",
    "Africa Food Show": """
Date,Reach
2024-04-19,3
2024-04-20,1
2024-04-21,2
2024-04-22,0
2024-04-23,0
2024-04-24,0
2024-04-25,1
2024-04-26,0
2024-04-27,0
2024-04-28,0
2024-04-29,0
2024-04-30,7
2024-05-01,0
2024-05-02,3
2024-05-03,4
2024-05-04,3
2024-05-05,3
2024-05-06,7
2024-05-07,7
2024-05-08,6
2024-05-09,6
2024-05-10,3
2024-05-11,3
2024-05-12,0
2024-05-13,2
2024-05-14,7
2024-05-15,5
2024-05-16,4
""",
}

# Create DataFrames for Facebook reach
facebook_df = {}
for show, data in facebook_data.items():
    facebook_df[show] = pd.read_csv(io.StringIO(data), parse_dates=['Date'])

# Plot linear graphs for each show
for show, df in facebook_df.items():
    plt.figure(figsize=(10, 6))
    plt.plot(df['Date'], df['Reach'], label=show, linestyle='-')
    plt.title('Reach Over Time - ' + show)
    plt.xlabel('Date')
    plt.ylabel('Number of Accounts Reached')
    plt.xticks(rotation=45)
    plt.legend()
    plt.grid(True)
    plt.tight_layout()
    plt.savefig(show + '_linear.png')
    plt.close()

# Plot bar graphs for each show
for show, df in facebook_df.items():
    plt.figure(figsize=(10, 6))
    plt.bar(df['Date'], df['Reach'], label=show)
    plt.title('Reach Over Time - ' + show)
    plt.xlabel('Date')
    plt.ylabel('Number of Accounts Reached')
    plt.xticks(rotation=45)
    plt.legend()
    plt.grid(True)
    plt.tight_layout()
    plt.savefig(show + '_bar.png')
    plt.close()

# Plot pie chart
total_reach = [df['Reach'].sum() for df in facebook_df.values()]
shows = list(facebook_df.keys())

plt.figure(figsize=(8, 8))
plt.pie(total_reach, labels=shows, autopct='%1.1f%%', startangle=140)
plt.title('Total Reach Distribution')
plt.legend()
plt.tight_layout()
plt.savefig('total_reach_pie.png')
plt.close()

print("Graphs saved successfully.")